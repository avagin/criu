language: c
sudo: required
dist: trusty
cache: ccache
env:
 matrix:
  - TTT=linux    KGIT="http://kernel.googlesource.com/pub/scm/linux/kernel/git/torvalds/linux.git"
  - TTT=next     KGIT="http://kernel.googlesource.com/pub/scm/linux/kernel/git/next/linux-next.git" GCOV=1
  - TTT=net-next KGIT="http://kernel.googlesource.com/pub/scm/linux/kernel/git/davem/net-next.git"
  - TTT=userns-t KGIT="http://kernel.googlesource.com/pub/scm/linux/kernel/git/ebiederm/user-namespace.git -b for-testing"
  - TTT=userns-n KGIT="http://kernel.googlesource.com/pub/scm/linux/kernel/git/ebiederm/user-namespace.git -b for-next"
  - TTT=akpm     KGIT="http://kernel.googlesource.com/pub/scm/linux/kernel/git/next/linux-next.git -b akpm"
  - TTT=pre-akpm KGIT="http://kernel.googlesource.com/pub/scm/linux/kernel/git/next/linux-next.git -b akpm-base"
  - TTT=cgroup   KGIT="http://kernel.googlesource.com/pub/scm/linux/kernel/git/tj/cgroup.git -b for-next"
  - TTT=vfs      KGIT="http://kernel.googlesource.com/pub/scm/linux/kernel/git/viro/vfs.git -b for-next"
  - TTT=tty      KGIT="git://git.kernel.org/pub/scm/linux/kernel/git/gregkh/tty.git -b tty-next"
  - TTT=scsi     KGIT="https://git.kernel.org/pub/scm/linux/kernel/git/jejb/scsi.git -b for-next"
 global:
  - secure: "pLXteR7eodHe2qp5q1wB+W53OOd/9b5q1IHPajh5ES86Yvut5ig7pUhmLU75hDcu7TPeISYl2//Et9xxbBF0h2z1dqtTlvAnN+THBmIZ4Yv4X+LMkD532sI/AQpCJHVOXQ5r6tLgWQqL0zEC20ImC0LaJfz6qFSmdQ8uX/r61r8="
script:
  - sudo make -C scripts/travis local
after_success:
  - ccache -s
  - make -C scripts/travis after_success
group: deprecated-2017Q2
after_failure:
  - sudo make -C scripts/travis after_failure
